# Pangolin configuration
# Generated by portless install wizard
# Docs: https://docs.fossorial.io
#
# Template vars: {PANGOLIN_DOMAIN} {BASE_DOMAIN} {ACME_EMAIL}
#

app:
  # Public URL for the Pangolin dashboard (must match your DNS)
  dashboard_url: "https://{PANGOLIN_DOMAIN}"
  log_level: "info"
  save_logs: false
  log_failed_attempts: true
  # Root domain for resource subdomains (e.g. *.example.com)
  base_domain: "{BASE_DOMAIN}"

server:
  # Port Traefik proxies to for the dashboard
  external_port: 443
  # Internal API port (localhost only)
  internal_port: 3001
  next_link_redirect: "https://{PANGOLIN_DOMAIN}"
  # Session cookie name
  session_cookie_name: "p_session_token"
  # Token parameter used in resource access URLs
  resource_access_token_param: "p_token"
  resource_access_token_headers:
    - id: "p_access_token"
      name: "X-Access-Token"
  cors_allowed_origins:
    - "https://{PANGOLIN_DOMAIN}"
  # Trust X-Forwarded-For from Traefik
  trust_proxy: true

traefik:
  cert_resolver: "letsencrypt"
  http_entrypoint: "web"
  https_entrypoint: "websecure"
  additional_middlewares: []

gerbil:
  # First WireGuard port (gerbil allocates ports starting here)
  start_port: 51820
  # Public hostname that Newt clients connect to
  base_endpoint: "{PANGOLIN_DOMAIN}"
  dns: "1.1.1.1"
  block_size: 24
  site_block_size: 30

rate_limit:
  enabled: true
  # Window in minutes
  window: 1
  max: 100
  fields:
    - "siteId"

email:
  smtp_host: ""
  smtp_port: 587
  no_reply: "no-reply@{BASE_DOMAIN}"
  name: "Pangolin"
