# Caddyfile for Headscale reverse proxy
# Generated by portless

{HEADSCALE_DOMAIN} {
    tls {ACME_EMAIL}

    # Headscale coordination API
    reverse_proxy headscale:8080 {
        header_up X-Forwarded-For {remote_host}
        header_up X-Forwarded-Proto {scheme}
    }
}

# Headscale UI (accessible at /web path)
{HEADSCALE_DOMAIN}/web* {
    tls {ACME_EMAIL}
    reverse_proxy headscale-ui:8888
}
