# Traefik dynamic config — {SERVICE} (TinyAuth SSO protected)
# Generated by portless manage.sh
# DO NOT EDIT — regenerate with: ./manage.sh regen

http:
  routers:
    {SERVICE}-rtr:
      entryPoints:
        - websecure-internal
        - websecure-external
      rule: "Host(`{SUBDOMAIN}.{DOMAINNAME_1}`)"
      middlewares:
        - chain-tinyauth@file
      service: {SERVICE}-svc
      tls:
        certResolver: dns-cloudflare
        options: tls-opts@file

  services:
    {SERVICE}-svc:
      loadBalancer:
        servers:
          - url: "http://{SERVER_LAN_IP}:{PORT}"
        passHostHeader: true
